@import '../../stylesheets/defaults'

$tooltip-width = 420px
$tooltip-height = 160px
$tooltip-distance = 12px

+host-styles(mp-tutorial-tooltip)
  height $tooltip-height
  position absolute
  width $tooltip-width
  z-index 100

  // default (placement=top) tooltip positioning
  bottom "calc(100% + %s)" % $tooltip-distance
  left "calc(50% - %s)" % ($tooltip-width / 2)

+host-styles(mp-tutorial-tooltip, '[hide="true"]')
  pointer-events none

+host-styles(mp-tutorial-tooltip, '[placement="bottom"]')
  bottom initial
  top "calc(100% + %s)" % $tooltip-distance
  left "calc(50% - %s)" % ($tooltip-width / 2)

+host-styles(mp-tutorial-tooltip, '[placement="left"]')
  bottom initial
  left initial
  right "calc(100% + %s)" % $tooltip-distance
  top "calc(50% - %s)" % ($tooltip-height / 2)

+host-styles(mp-tutorial-tooltip, '[placement="right"]')
  bottom initial
  left "calc(100% + %s)" % $tooltip-distance
  top "calc(50% - %s)" % ($tooltip-height / 2)

+host-styles(mp-tutorial-tooltip, '[placement="center"]')
  bottom initial
  left "calc(50% - %s)" % ($tooltip-width / 2)
  top "calc(50% - %s)" % ($tooltip-height / 2)

+prefix-classes('mp-tutorial-tooltip-')
  .stage
    height inherit

  .wrapper
    background blue-700
    border-radius 8px
    box-shadow 0 16px 41px 0 rgba(18, 82, 143, 0.37);
    color rgba(255, 255, 255, 0.64);
    cursor default
    height inherit

    // fade-in animation styles

    opacity 0

    &.in
      opacity 1
      transition all (mp-slow)ms ease-out-quart

    &.out
      opacity 0
      transition all (mp-slow)ms ease-in-quart

    &::after
      border 8px solid transparent
      content ''
      height 0
      position absolute
      width 0

    // slide-in animation styles

    &.placement-bottom,
    &.placement-top,
    &.placement-left,
    &.placement-right
      &.in
        transform translate(0)

    &.placement-top
      &, &.out
        transform translateY(-20px)

    &.placement-bottom
      &, &.out
        transform translateY(20px)

    &.placement-left
      &, &.out
        transform translateX(-20px)

    &.placement-right
      &, &.out
        transform translateX(20px)

    &.placement-center
      &.in
        transform scale(1)
      &, &.out
        transform scale(.95)

    // tooltip arrow styles

    &.placement-top::after
      border-top-color blue-900
      left 50%
      margin-left -8px
      top 100%

    &.placement-bottom::after
      border-bottom-color blue-700
      bottom 100%
      left 50%
      margin-left -8px

    &.placement-left::after
      border-left-color blue-700
      left 100%
      margin-top -8px
      top 50%

    &.placement-right::after
      border-right-color blue-700
      margin-top -8px
      right 100%
      top 50%

    // tooltip arrow special alignment styles

    &.arrow-align-top
      &.placement-left, &.placement-right
        &::after
          bottom initial
          top 23px

    &.arrow-align-bottom
      &.placement-left, &.placement-right
        &::after
          bottom 23px
          top initial

    &.arrow-align-right
      &.placement-top, &.placement-bottom
        &::after
          left initial
          right 23px

    &.arrow-align-left
      &.placement-top, &.placement-bottom
        &::after
          left 23px
          right initial

  .content
    padding 20px 30px

  .footer
    background blue-900
    border-radius 0 0 8px 8px
    border-top 1px solid #2282DD
    bottom 0
    height 42px
    position absolute
    width 100%

    ul.steps
      list-style none
      margin 0
      padding 0
      padding-left 24px

      li.step
        background blue-100
        border-radius 50%
        float left
        height 6px
        margin 17px 14px 17px 0
        position relative
        width 6px

        &.active
          background transparent

          &::after
            border 4px solid mp-yellow
            border-radius 50%
            box-shadow 0 2px 3px 0 rgba(19, 102, 179, 0.66)
            content ''
            height 4px
            left -3px
            position absolute
            top -3px
            width 4px
